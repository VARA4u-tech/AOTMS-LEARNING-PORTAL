[{"filePath":"C:\\Users\\DV.PRASAD\\Aotms_LMS\\Frontend\\src\\pages\\ManagerDashboard.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":439,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":439,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[19233,19236],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[19233,19236],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":440,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":440,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[19261,19264],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[19261,19264],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"@/hooks/useAuth\";\r\nimport { Navigate, useNavigate } from \"react-router-dom\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { SidebarProvider, SidebarInset } from \"@/components/ui/sidebar\";\r\nimport { ManagerSidebar } from \"@/components/manager/ManagerSidebar\";\r\nimport { ManagerHeader } from \"@/components/manager/ManagerHeader\";\r\nimport { ExamScheduler } from \"@/components/manager/ExamScheduler\";\r\nimport { QuestionBankManager } from \"@/components/manager/QuestionBankManager\";\r\nimport { MockTestManager } from \"@/components/manager/MockTestManager\";\r\nimport { LeaderboardManager } from \"@/components/manager/LeaderboardManager\";\r\nimport { GuestCredentialsManager } from \"@/components/manager/GuestCredentialsManager\";\r\nimport { ExamMonitoring } from \"@/components/manager/ExamMonitoring\";\r\nimport { AccessControlManager } from \"@/components/manager/AccessControlManager\";\r\nimport { CourseMonitoring } from \"@/components/manager/CourseMonitoring\";\r\nimport { ExamRulesManager } from \"@/components/manager/ExamRulesManager\";\r\nimport { ManagerAttendance } from \"@/components/manager/ManagerAttendance\";\r\nimport { ManagerHelp } from \"@/components/manager/ManagerHelp\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  CardTitle,\r\n  CardDescription,\r\n} from \"@/components/ui/card\";\r\nimport AmbientBackground from \"@/components/ui/AmbientBackground\";\r\nimport {\r\n  CalendarCheck,\r\n  BookOpen,\r\n  FileText,\r\n  Trophy,\r\n  UserPlus,\r\n  Shield,\r\n  MonitorPlay,\r\n  Gavel,\r\n  Server,\r\n  Settings,\r\n  ChevronRight,\r\n  Activity,\r\n  Plus,\r\n  Users,\r\n  GraduationCap,\r\n  UserCheck,\r\n  ArrowLeft,\r\n  Search,\r\n  Clock,\r\n} from \"lucide-react\";\r\nimport {\r\n  useExams,\r\n  useQuestions,\r\n  useLeaderboard,\r\n  useGuestCredentials,\r\n  useMockTestConfigs,\r\n  useExamRules,\r\n  useExamResults,\r\n  useUserRoles,\r\n  useProfiles,\r\n} from \"@/hooks/useManagerData\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport default function ManagerDashboard() {\r\n  const { user, userRole, loading } = useAuth();\r\n  const [activeSection, setActiveSection] = useState(\"overview\");\r\n  const [userListFilter, setUserListFilter] = useState<\r\n    \"student\" | \"instructor\" | \"all\"\r\n  >(\"all\");\r\n  const [userSearchQuery, setUserSearchQuery] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const openUserList = (filter: \"student\" | \"instructor\" | \"all\") => {\r\n    setUserListFilter(filter);\r\n    setUserSearchQuery(\"\");\r\n    setActiveSection(\"users-list\");\r\n  };\r\n\r\n  // Data hooks for overview\r\n  const { data: exams = [] } = useExams();\r\n  const { data: questions = [] } = useQuestions();\r\n  const { data: leaderboard = [] } = useLeaderboard();\r\n  const { data: guests = [] } = useGuestCredentials();\r\n\r\n  const { data: mockTests = [] } = useMockTestConfigs();\r\n  const { data: examRules = [] } = useExamRules();\r\n  const { data: examResults = [] } = useExamResults();\r\n  const { data: userRoles = [] } = useUserRoles();\r\n  const { data: profiles = [] } = useProfiles();\r\n\r\n  const totalCandidates = userRoles.length;\r\n  const totalStudents = userRoles.filter((r) => r.role === \"student\").length;\r\n  const totalInstructors = userRoles.filter(\r\n    (r) => r.role === \"instructor\",\r\n  ).length;\r\n\r\n  useEffect(() => {\r\n    if (!loading && !user) {\r\n      navigate(\"/auth\");\r\n    }\r\n  }, [user, loading, navigate]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center space-y-4\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-2 border-primary/20 border-t-primary\"></div>\r\n        <p className=\"text-xs font-medium text-muted-foreground animate-pulse tracking-tight\">\r\n          Loading console...\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Temporarily disabled for testing:\r\n  // if (userRole !== \"manager\" && userRole !== \"admin\") {\r\n  //   return <Navigate to=\"/dashboard\" replace />;\r\n  // }\r\n\r\n  const activeExamsCount = exams.filter((e) => e.status === \"active\").length;\r\n\r\n  const renderOverview = () => (\r\n    <div className=\"space-y-6 sm:space-y-8 animate-in fade-in duration-500 font-['Inter'] pb-12\">\r\n      {/* Search and Header Section */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n        <div className=\"space-y-1\">\r\n          <h2 className=\"text-xl sm:text-2xl lg:text-3xl font-black tracking-tight text-[#000000] uppercase\">\r\n            Manager Console\r\n          </h2>\r\n          <p className=\"text-xs sm:text-sm font-bold text-[#000000]/60\">\r\n            Welcome back, {user?.user_metadata?.full_name || \"Manager\"}. Here is\r\n            what's happening today.\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-3\">\r\n          <Button className=\"hidden sm:flex bg-white text-[#000000] border-2 border-[#000000] shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] hover:bg-[#E9E9E9] hover:-translate-y-[-2px] hover:-translate-x-[-2px] transition-all font-black uppercase tracking-widest text-xs\">\r\n            <Settings className=\"h-4 w-4 mr-2\" /> System Settings\r\n          </Button>\r\n          <Button\r\n            onClick={() => setActiveSection(\"exams\")}\r\n            className=\"bg-[#FD5A1A] text-white border-2 border-[#000000] shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] hover:bg-[#FD5A1A]/90 hover:-translate-y-[-2px] hover:-translate-x-[-2px] transition-all font-black uppercase tracking-widest text-xs\"\r\n          >\r\n            <Plus className=\"h-4 w-4 mr-2\" /> New Exam\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Candidates Overview */}\r\n      <div className=\"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-3 mb-6\">\r\n        <Card\r\n          className=\"bg-white rounded-3xl border-4 border-[#000000] shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] hover:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[6px] hover:translate-y-[6px] transition-all cursor-pointer group\"\r\n          onClick={() => openUserList(\"all\")}\r\n        >\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"h-12 w-12 rounded-3xl flex items-center justify-center bg-[#000000] border-2 border-[#000000] shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]\">\r\n                <Users className=\"h-6 w-6 text-white\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-[10px] font-black uppercase tracking-widest text-[#000000]/50 mb-1\">\r\n                  Total Candidates\r\n                </p>\r\n                <h3 className=\"text-3xl font-black group-hover:text-[#0075CF] transition-colors\">\r\n                  {totalCandidates}\r\n                </h3>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card\r\n          className=\"bg-white rounded-3xl border-4 border-[#000000] shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] hover:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[6px] hover:translate-y-[6px] transition-all cursor-pointer group\"\r\n          onClick={() => openUserList(\"student\")}\r\n        >\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"h-12 w-12 rounded-3xl flex items-center justify-center bg-[#0075CF] border-2 border-[#000000] shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]\">\r\n                <GraduationCap className=\"h-6 w-6 text-white\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-[10px] font-black uppercase tracking-widest text-[#000000]/50 mb-1\">\r\n                  Students\r\n                </p>\r\n                <h3 className=\"text-3xl font-black group-hover:text-[#0075CF] transition-colors\">\r\n                  {totalStudents}\r\n                </h3>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card\r\n          className=\"bg-white rounded-3xl border-4 border-[#000000] shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] hover:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[6px] hover:translate-y-[6px] transition-all cursor-pointer group\"\r\n          onClick={() => openUserList(\"instructor\")}\r\n        >\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"h-12 w-12 rounded-3xl flex items-center justify-center bg-[#FD5A1A] border-2 border-[#000000] shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]\">\r\n                <UserCheck className=\"h-6 w-6 text-white\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-[10px] font-black uppercase tracking-widest text-[#000000]/50 mb-1\">\r\n                  Instructors\r\n                </p>\r\n                <h3 className=\"text-3xl font-black group-hover:text-[#FD5A1A] transition-colors\">\r\n                  {totalInstructors}\r\n                </h3>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Standard Stats Grid */}\r\n      <div className=\"grid gap-3 sm:gap-4 grid-cols-2 lg:grid-cols-4 mt-6\">\r\n        {[\r\n          {\r\n            label: \"Exams Scheduled\",\r\n            value: exams.length,\r\n            icon: CalendarCheck,\r\n          },\r\n          {\r\n            label: \"Question Bank\",\r\n            value: questions.length,\r\n            icon: BookOpen,\r\n          },\r\n          {\r\n            label: \"Leaderboard\",\r\n            value: leaderboard.length,\r\n            icon: Trophy,\r\n          },\r\n          {\r\n            label: \"Guest Access\",\r\n            value: guests.length,\r\n            icon: UserPlus,\r\n          },\r\n        ].map((stat, i) => (\r\n          <Card\r\n            key={i}\r\n            className=\"bg-white rounded-3xl border-4 border-[#000000] shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] transition-all cursor-default\"\r\n          >\r\n            <CardContent className=\"p-5 flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-[9px] font-black uppercase tracking-widest text-[#000000]/50 mb-1\">\r\n                  {stat.label}\r\n                </p>\r\n                <h3 className=\"text-2xl font-black text-[#000000]\">\r\n                  {stat.value}\r\n                </h3>\r\n              </div>\r\n              <div className=\"h-10 w-10 bg-[#E9E9E9] border-2 border-[#000000] rounded flex items-center justify-center\">\r\n                <stat.icon className=\"h-5 w-5 text-[#000000]\" />\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"grid gap-6 md:grid-cols-3\">\r\n        {/* Main Quick Actions Section */}\r\n        <Card className=\"md:col-span-2 bg-white rounded-3xl border-4 border-[#000000] shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]\">\r\n          <CardHeader className=\"border-b-4 border-[#000000] bg-[#E9E9E9] rounded-t-lg\">\r\n            <CardTitle className=\"text-xl font-black uppercase tracking-widest text-[#000000]\">\r\n              Quick Tasks\r\n            </CardTitle>\r\n            <CardDescription className=\"text-[#000000]/60 font-bold\">\r\n              Commonly used management tools\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"p-6 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] bg-white\">\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n              {[\r\n                {\r\n                  id: \"exams\",\r\n                  label: \"Exam Scheduler\",\r\n                  icon: CalendarCheck,\r\n                  desc: \"Manage exam timelines\",\r\n                  bg: \"bg-[#0075CF]\",\r\n                },\r\n                {\r\n                  id: \"questions\",\r\n                  label: \"Question Bank\",\r\n                  icon: BookOpen,\r\n                  desc: \"Update question pools\",\r\n                  bg: \"bg-[#FD5A1A]\",\r\n                },\r\n                {\r\n                  id: \"mock-tests\",\r\n                  label: \"Mock Tests\",\r\n                  icon: FileText,\r\n                  desc: \"Practice test configs\",\r\n                  bg: \"bg-[#000000]\",\r\n                },\r\n                {\r\n                  id: \"monitoring\",\r\n                  label: \"Live Monitoring\",\r\n                  icon: MonitorPlay,\r\n                  desc: \"Watch active assessments\",\r\n                  bg: \"bg-white\",\r\n                },\r\n                {\r\n                  id: \"guests\",\r\n                  label: \"Guest Access\",\r\n                  icon: UserPlus,\r\n                  desc: \"Temporary credentials\",\r\n                  bg: \"bg-[#0075CF]\",\r\n                },\r\n                {\r\n                  id: \"exam-rules\",\r\n                  label: \"Exam Rules\",\r\n                  icon: Gavel,\r\n                  desc: \"Configure proctoring\",\r\n                  bg: \"bg-[#000000]\",\r\n                },\r\n              ].map((item) => (\r\n                <button\r\n                  key={item.id}\r\n                  onClick={() => setActiveSection(item.id)}\r\n                  className=\"group flex flex-col p-4 rounded-3xl border-2 border-[#000000] bg-white shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[4px] hover:translate-y-[4px] transition-all text-left\"\r\n                >\r\n                  <div className=\"flex items-center justify-between mb-3\">\r\n                    <div\r\n                      className={`h-10 w-10 rounded-3xl flex items-center justify-center border-2 border-[#000000] shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] ${item.bg}`}\r\n                    >\r\n                      <item.icon\r\n                        className={`h-5 w-5 ${item.bg === \"bg-white\" ? \"text-[#000000]\" : \"text-white\"}`}\r\n                      />\r\n                    </div>\r\n                    <ChevronRight className=\"h-5 w-5 text-[#000000]/20 group-hover:text-[#000000] transition-colors\" />\r\n                  </div>\r\n                  <p className=\"font-black text-[#000000] uppercase tracking-wider\">\r\n                    {item.label}\r\n                  </p>\r\n                  <p className=\"text-[10px] font-bold text-[#000000]/60 uppercase tracking-widest mt-1\">\r\n                    {item.desc}\r\n                  </p>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Status/Health Section */}\r\n        <div className=\"space-y-6\">\r\n          <Card className=\"bg-white rounded-3xl border-4 border-[#000000] shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]\">\r\n            <CardHeader className=\"p-5 pb-3 border-b-2 border-[#000000] bg-[#E9E9E9] rounded-t-lg\">\r\n              <CardTitle className=\"text-xs font-black uppercase tracking-widest flex items-center gap-2 text-[#000000]\">\r\n                <Shield className=\"h-4 w-4 text-[#000000]\" />\r\n                System Status\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"p-5 pt-4 space-y-4\">\r\n              <div className=\"space-y-4 font-bold\">\r\n                <div className=\"flex items-center justify-between text-sm\">\r\n                  <span className=\"text-[#000000]/60\">Active Sessions</span>\r\n                  <span className=\"font-black text-[#0075CF] uppercase tracking-wider\">\r\n                    Online\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-center justify-between text-sm\">\r\n                  <span className=\"text-[#000000]/60\">Database Sync</span>\r\n                  <span className=\"text-[#000000] font-black uppercase tracking-wider\">\r\n                    Verified\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-center justify-between text-sm\">\r\n                  <span className=\"text-[#000000]/60\">Live Exams</span>\r\n                  <span className=\"font-black text-xl\">{activeExamsCount}</span>\r\n                </div>\r\n              </div>\r\n              <Button\r\n                className=\"w-full text-xs h-10 rounded-3xl bg-white text-[#000000] border-2 border-[#000000] shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] hover:translate-y-[2px] transition-all font-black uppercase tracking-widest mt-2\"\r\n                onClick={() => setActiveSection(\"monitoring\")}\r\n              >\r\n                Monitoring Console\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card className=\"bg-[#FD5A1A] rounded-3xl border-4 border-[#000000] shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] text-white overflow-hidden relative group\">\r\n            <CardHeader className=\"p-5 pb-2 relative z-10\">\r\n              <CardTitle className=\"text-xs font-black uppercase tracking-widest flex items-center gap-2\">\r\n                <Activity className=\"h-4 w-4\" />\r\n                Integrity Shield\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"p-5 relative z-10 space-y-4\">\r\n              <p className=\"text-sm font-bold opacity-90 leading-relaxed\">\r\n                Proctoring systems are currently monitoring {activeExamsCount}{\" \"}\r\n                active exams.\r\n              </p>\r\n              <Button\r\n                className=\"w-full text-[10px] h-10 rounded-3xl bg-[#000000] text-white border-2 border-[#000000] shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] hover:bg-[#000000]/80 hover:translate-y-[2px] transition-all font-black uppercase tracking-widest\"\r\n                onClick={() => setActiveSection(\"access-control\")}\r\n              >\r\n                Manage Permissions\r\n              </Button>\r\n            </CardContent>\r\n            <div className=\"absolute -bottom-4 -right-4 p-4 opacity-10 group-hover:scale-110 transition-transform duration-500\">\r\n              <Server className=\"h-32 w-32\" />\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderUserList = () => {\r\n    const label =\r\n      userListFilter === \"student\"\r\n        ? \"Students\"\r\n        : userListFilter === \"instructor\"\r\n          ? \"Instructors\"\r\n          : \"All Candidates\";\r\n\r\n    const accentColor =\r\n      userListFilter === \"student\"\r\n        ? {\r\n            bg: \"bg-[#0075CF]\",\r\n            text: \"text-white\",\r\n            border: \"border-[#000000]\",\r\n            icon: \"text-white\",\r\n            hover: \"hover:bg-[#0075CF]/90\",\r\n          }\r\n        : userListFilter === \"instructor\"\r\n          ? {\r\n              bg: \"bg-[#FD5A1A]\",\r\n              text: \"text-white\",\r\n              border: \"border-[#000000]\",\r\n              icon: \"text-white\",\r\n              hover: \"hover:bg-[#FD5A1A]/90\",\r\n            }\r\n          : {\r\n              bg: \"bg-[#000000]\",\r\n              text: \"text-white\",\r\n              border: \"border-[#000000]\",\r\n              icon: \"text-white\",\r\n              hover: \"hover:bg-[#000000]/90\",\r\n            };\r\n\r\n    // Join userRoles with profiles for rich info\r\n    const enrichedUsers = userRoles\r\n      .filter((u) => userListFilter === \"all\" || u.role === userListFilter)\r\n      .map((u) => {\r\n        const profile = (profiles as any[]).find(\r\n          (p: any) => p.id === u.user_id,\r\n        );\r\n        return {\r\n          ...u,\r\n          full_name: (profile?.full_name as string) || null,\r\n          email: (profile?.email as string) || null,\r\n          avatar_url: (profile?.avatar_url as string) || null,\r\n          created_at_profile: (profile?.created_at as string) || u.created_at,\r\n          status: (profile?.status as string) || \"active\",\r\n        };\r\n      })\r\n      .filter((u) => {\r\n        if (!userSearchQuery) return true;\r\n        const q = userSearchQuery.toLowerCase();\r\n        return (\r\n          u.full_name?.toLowerCase().includes(q) ||\r\n          u.email?.toLowerCase().includes(q) ||\r\n          u.user_id?.toLowerCase().includes(q)\r\n        );\r\n      });\r\n\r\n    const formatJoinDate = (dateStr: string | null) => {\r\n      if (!dateStr) return \"Unknown\";\r\n      const date = new Date(dateStr);\r\n      return date.toLocaleDateString(\"en-IN\", {\r\n        day: \"2-digit\",\r\n        month: \"short\",\r\n        year: \"numeric\",\r\n      });\r\n    };\r\n\r\n    const getInitials = (name: string | null) => {\r\n      if (!name) return \"?\";\r\n      return name\r\n        .split(\" \")\r\n        .map((n) => n[0])\r\n        .slice(0, 2)\r\n        .join(\"\")\r\n        .toUpperCase();\r\n    };\r\n\r\n    return (\r\n      <div className=\"space-y-6 animate-in fade-in duration-300 font-['Inter']\">\r\n        {/* Header */}\r\n        <div className=\"flex flex-col sm:flex-row sm:items-center gap-4\">\r\n          <Button\r\n            className=\"gap-2 w-fit bg-white text-[#000000] border-2 border-[#000000] shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] hover:bg-[#E9E9E9] hover:translate-y-[1px] hover:translate-x-[1px] transition-all font-black uppercase tracking-widest text-xs\"\r\n            onClick={() => setActiveSection(\"overview\")}\r\n          >\r\n            <ArrowLeft className=\"h-4 w-4\" />\r\n            Back to Dashboard\r\n          </Button>\r\n          <div>\r\n            <h2 className=\"text-3xl font-black text-[#000000] uppercase tracking-wider\">\r\n              {label} List\r\n            </h2>\r\n            <p className=\"text-sm font-bold text-[#000000]/60\">\r\n              {enrichedUsers.length} {label.toLowerCase()} registered on the\r\n              platform\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Search */}\r\n        <div className=\"relative max-w-sm group focus-within:translate-y-[-2px] focus-within:translate-x-[-2px] transition-transform\">\r\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[#000000]\" />\r\n          <input\r\n            type=\"text\"\r\n            placeholder={`Search ${label.toLowerCase()} by name or email...`}\r\n            value={userSearchQuery}\r\n            onChange={(e) => setUserSearchQuery(e.target.value)}\r\n            className=\"pl-10 pr-4 py-3 w-full border-4 border-[#000000] bg-white text-[#000000] font-bold shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] focus:outline-none placeholder:font-normal placeholder:text-[#000000]/50 rounded-3xl\"\r\n          />\r\n        </div>\r\n\r\n        {/* List */}\r\n        <Card className=\"rounded-3xl border-4 border-[#000000] shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] bg-white relative overflow-hidden\">\r\n          {enrichedUsers.length === 0 ? (\r\n            <CardContent className=\"flex flex-col items-center justify-center py-20 gap-3 text-[#000000]/60 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]\">\r\n              <div className=\"p-4 bg-[#E9E9E9] border-4 border-[#000000] shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] rounded-3xl mb-2\">\r\n                <Users className=\"h-10 w-10 text-[#000000]\" />\r\n              </div>\r\n              <p className=\"font-black uppercase tracking-wider text-xl text-[#000000]\">\r\n                No {label.toLowerCase()} found\r\n              </p>\r\n              {userSearchQuery && (\r\n                <p className=\"font-bold text-sm\">Try a different search term</p>\r\n              )}\r\n            </CardContent>\r\n          ) : (\r\n            <div className=\"divide-y-4 divide-[#000000]\">\r\n              {enrichedUsers.map((u, idx) => (\r\n                <div\r\n                  key={u.user_id || idx}\r\n                  className=\"flex items-center gap-4 px-6 py-4 hover:bg-[#E9E9E9] transition-colors group cursor-default\"\r\n                >\r\n                  {/* Avatar */}\r\n                  <div\r\n                    className={`h-12 w-12 rounded-3xl flex items-center justify-center flex-shrink-0 font-black text-sm border-2 border-[#000000] shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] ${accentColor.bg} ${accentColor.text}`}\r\n                  >\r\n                    {u.avatar_url ? (\r\n                      <img\r\n                        src={u.avatar_url}\r\n                        alt={u.full_name || \"User\"}\r\n                        className=\"h-12 w-12 rounded-3xl object-cover\"\r\n                      />\r\n                    ) : (\r\n                      getInitials(u.full_name)\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Info */}\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <p className=\"font-black text-[#000000] text-lg uppercase tracking-wider truncate mb-1\">\r\n                      {(u.full_name as string) || \"Unknown User\"}\r\n                    </p>\r\n                    <p className=\"text-sm font-bold text-[#000000]/60 truncate\">\r\n                      {(u.email as string) || (u.user_id as string)}\r\n                    </p>\r\n                  </div>\r\n\r\n                  {/* Join Date */}\r\n                  <div className=\"hidden sm:flex items-center gap-1 text-xs font-bold text-[#000000]/60 flex-shrink-0\">\r\n                    <Clock className=\"h-4 w-4\" />\r\n                    <span>\r\n                      Joined {formatJoinDate(u.created_at_profile as string)}\r\n                    </span>\r\n                  </div>\r\n\r\n                  {/* Role Badge */}\r\n                  <span\r\n                    className={`text-[10px] font-black uppercase tracking-widest px-2 py-1 border-2 border-[#000000] shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] ${accentColor.bg} ${accentColor.text} flex-shrink-0`}\r\n                  >\r\n                    {u.role as string}\r\n                  </span>\r\n\r\n                  {/* Status Badge */}\r\n                  <span\r\n                    className={`text-[10px] font-black uppercase tracking-widest px-2 py-1 border-2 border-[#000000] shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] flex-shrink-0 ${\r\n                      u.status === \"suspended\"\r\n                        ? \"bg-red-500 text-white\"\r\n                        : \"bg-green-500 text-white\"\r\n                    }`}\r\n                  >\r\n                    {u.status as string}\r\n                  </span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </Card>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderContent = () => {\r\n    switch (activeSection) {\r\n      case \"overview\":\r\n        return renderOverview();\r\n      case \"users-list\":\r\n        return renderUserList();\r\n      case \"exams\":\r\n        return <ExamScheduler />;\r\n      case \"questions\":\r\n        return <QuestionBankManager />;\r\n      case \"mock-tests\":\r\n        return <MockTestManager />;\r\n      case \"leaderboard\":\r\n        return <LeaderboardManager />;\r\n      case \"guests\":\r\n        return <GuestCredentialsManager />;\r\n      case \"access-control\":\r\n        return <AccessControlManager />;\r\n      case \"monitoring\":\r\n        return <ExamMonitoring />;\r\n      case \"course-monitoring\":\r\n        return <CourseMonitoring />;\r\n      case \"exam-rules\":\r\n        return <ExamRulesManager />;\r\n      case \"attendance\":\r\n        return <ManagerAttendance />;\r\n      case \"help\":\r\n        return <ManagerHelp />;\r\n      default:\r\n        return renderOverview();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SidebarProvider>\r\n      <ManagerSidebar\r\n        activeSection={activeSection}\r\n        onSectionChange={setActiveSection}\r\n      />\r\n      <SidebarInset>\r\n        <AmbientBackground />\r\n        <ManagerHeader />\r\n        <main className=\"flex-1 p-3 sm:p-4 md:p-6 lg:p-8 overflow-auto\">\r\n          <div className=\"max-w-6xl mx-auto\">{renderContent()}</div>\r\n        </main>\r\n      </SidebarInset>\r\n    </SidebarProvider>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]}]
